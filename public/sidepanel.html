<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PRD For AI</title>
  <link rel="stylesheet" href="sidepanel.css">
  <link rel="icon" href="favicon.ico">
  <style>
    /* 关键样式兜底，防止 CSS 未能及时加载时的可用性 */
    body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    .container { padding: 16px; }
    textarea { width: 100%; box-sizing: border-box; }
    button { cursor: pointer; }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <!-- <img src="logo-prd-for-ai-with-text.svg" class="logo" alt="AI PRD 生成器" /> -->
      <!-- <h1>PRD For AI</h1> -->
       <h1>AI Coding的需求扩写小帮手</h1>
      <!-- <p class="sub">你的AI Coding需求扩写小能手</p> -->
    </header>

    <section class="input-block">
      <!-- 当前页面信息显示 -->
      <div class="page-info-section">
        <div class="section-header">
          <span class="section-title">🌐 当前页面</span>
          <div class="section-controls">
            <label class="checkbox-container">
              <input type="checkbox" id="includePageData" checked>
              <span class="checkmark"></span>
              <span class="checkbox-label">包含页面信息</span>
            </label>
            <button id="refreshPageBtn" class="ghost small">刷新</button>
          </div>
        </div>
        <div id="pageInfo" class="page-info">
          <div class="page-info-loading">🔍 正在获取页面信息...</div>
        </div>
        
        <!-- 页面数据详情区域 -->
        <div id="pageDataDetails" class="page-data-details" style="display: none;">
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">📄 HTML源码</span>
              <button id="copyHtmlBtn" class="ghost tiny">复制</button>
            </div>
            <div id="htmlPreview" class="data-content"></div>
          </div>
          
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">📝 页面文本</span>
              <button id="copyTextBtn" class="ghost tiny">复制</button>
            </div>
            <div id="textPreview" class="data-content"></div>
          </div>
          
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">🎨 CSS样式</span>
              <button id="copyCssBtn" class="ghost tiny">复制</button>
            </div>
            <div id="cssPreview" class="data-content"></div>
          </div>
          
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">🔤 字体信息</span>
              <button id="copyFontsBtn" class="ghost tiny">复制</button>
            </div>
            <div id="fontsPreview" class="data-content"></div>
          </div>
        </div>
        
        <!-- 查看详情按钮 -->
        <div class="page-actions">
          <button id="togglePageDataBtn" class="ghost small" style="display: none;">📋 查看页面数据</button>
        </div>
      </div>

      <div class="input-row">
        <label for="ideaInput" class="label">请输入你的应用想法</label>
        <div class="spacer"></div>
        <button id="newChatBtn" class="ghost small" title="开始新对话">新对话</button>
      </div>
      <textarea id="ideaInput" rows="6" placeholder="例如：我想做一个LLM对话应用"></textarea>
      <div class="actions">
        <button id="generateBtn" class="primary">生成PRD</button>
      </div>
    </section>

    <section id="loading" class="loading" style="display:none;">
      正在生成，请稍候...
    </section>

    <section id="output" class="output" aria-live="polite"></section>

    <section class="foot-actions">
      <button id="copyBtn" class="ghost" style="display:none;">一键复制</button>
    </section>
  </div>

  <script src="sidepanel.js"></script>
</body>
</html>


