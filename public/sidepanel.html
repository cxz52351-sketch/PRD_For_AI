<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI ç¼–ç¨‹åŠ©æ‰‹</title>
  <link rel="stylesheet" href="sidepanel.css">
  <link rel="icon" href="favicon.ico">
  <style>
    /* å…³é”®æ ·å¼å…œåº•ï¼Œé˜²æ­¢ CSS æœªèƒ½åŠæ—¶åŠ è½½æ—¶çš„å¯ç”¨æ€§ */
    body { 
      margin: 0; 
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif; 
      background: linear-gradient(135deg, #F8F4FF, #F0E6FF) !important;
      color: #1F2937 !important;
      font-size: 14px;
    }
    .container { 
      padding: 16px; 
      max-width: 100%;
      box-sizing: border-box;
    }
    button { 
      cursor: pointer; 
      border: none;
      border-radius: 6px;
      padding: 8px 16px;
      font-family: inherit;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    .primary {
      background: #9A6FB8;
      color: white;
    }
    .primary:hover {
      background: #8A5FA8;
    }
    .ghost {
      background: transparent;
      color: #9A6FB8;
      border: 1px solid #9A6FB8;
    }
    .ghost:hover {
      background: rgba(154, 111, 184, 0.1);
    }
    .danger {
      background: #EF4444;
      color: white;
    }
    .danger:hover {
      background: #DC2626;
    }
    .success {
      background: #10B981;
      color: white;
    }
    .success:hover {
      background: #059669;
    }
    .secondary {
      background: #B688CC;
      color: white;
    }
    .secondary:hover {
      background: #A678BC;
    }
    .accent {
      background: #E9B6D4;
      color: white;
    }
    .accent:hover {
      background: #D9A6C4;
    }
    .gold {
      background: #D4AF37;
      color: white;
    }
    .gold:hover {
      background: #B8941F;
    }
    
    /* é€‰é¡¹å¡æ ·å¼ */
    .tabs {
      display: flex;
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      margin-bottom: 16px;
      padding: 4px;
    }
    
    .tab-button {
      flex: 1;
      padding: 8px 12px;
      border: none;
      background: transparent;
      color: #6B7280;
      font-size: 13px;
      font-weight: 500;
      border-radius: 6px;
      transition: all 0.2s ease;
      cursor: pointer;
    }
    
    .tab-button.active {
      background: #9A6FB8;
      color: white;
      box-shadow: 0 1px 3px rgba(154, 111, 184, 0.3);
    }
    
    .tab-button:hover:not(.active) {
      background: rgba(154, 111, 184, 0.1);
      color: #9A6FB8;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* çŠ¶æ€æ¶ˆæ¯æ ·å¼ */
    .status-message {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 16px;
      border-radius: 8px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      animation: fadeInOut 3s ease-in-out;
      max-width: 300px;
      word-wrap: break-word;
    }
    
    .status-message.info {
      background: #9A6FB8;
    }
    
    .status-message.success {
      background: #10B981;
    }
    
    .status-message.error {
      background: #EF4444;
    }
    
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translateY(-10px); }
      20% { opacity: 1; transform: translateY(0); }
      80% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-10px); }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- å¤´éƒ¨ -->
    <header class="header">
      <h1>ğŸ¤– AI ç¼–ç¨‹åŠ©æ‰‹</h1>
      <p class="subtitle">ä¸‰åˆä¸€æ™ºèƒ½ç¼–ç¨‹å·¥å…·</p>
      <div class="header-decoration">
        <span class="gold-dot">â—</span>
        <span class="purple-dot">â—</span>
        <span class="gold-dot">â—</span>
      </div>
    </header>

    <!-- åŠŸèƒ½é€‰é¡¹å¡ -->
    <div class="tabs">
      <button class="tab-button active" data-tab="prompt">âœ¨ æ™ºèƒ½Prompt</button>
      <button class="tab-button" data-tab="page">ğŸ“„ é¡µé¢åˆ†æ</button>
      <button class="tab-button" data-tab="prd">ğŸ“‹ PRDç”Ÿæˆ</button>
    </div>

    <!-- åŠŸèƒ½1ï¼šæ™ºèƒ½Promptç”Ÿæˆ -->
    <div class="tab-content active" id="prompt-tab">
      <!-- å½“å‰é¡µé¢ä¿¡æ¯ -->
      <section class="page-section">
        <div class="section-header">
          <h2>ğŸŒ å½“å‰é¡µé¢</h2>
        </div>
        <div id="currentPageInfo" class="page-info">
          <div class="page-info-loading">ğŸ” æ­£åœ¨è·å–é¡µé¢ä¿¡æ¯...</div>
        </div>
      </section>

      <!-- å…ƒç´ é€‰æ‹©æ“ä½œ -->
      <section class="action-section">
        <div class="section-header">
          <h2>ğŸ¯ é€‰æ‹©å…ƒç´ </h2>
          <div class="section-description">
            é€‰æ‹©é¡µé¢ä¸­çš„ä»»æ„å…ƒç´ ï¼ŒAIå°†ç”Ÿæˆç²¾ç¡®çš„ç¼–ç¨‹æŒ‡ä»¤
          </div>
        </div>
        
        <div class="action-buttons">
          <button id="selectElementBtn" class="primary">
            ğŸ¯ é€‰æ‹©å…ƒç´ 
          </button>
          <button id="exitSelectionBtn" class="danger" style="display: none;">
            âŒ é€€å‡ºé€‰æ‹©
          </button>
        </div>
      </section>

      <!-- Promptè¾“å‡ºåŒºåŸŸ -->
      <section class="output-section">
        <div class="section-header">
          <h2>ğŸ“ ç”Ÿæˆçš„AIæŒ‡ä»¤</h2>
          <div class="section-actions">
            <button id="copyPromptBtn" class="secondary" style="display: none;">
              ğŸ“‹ å¤åˆ¶æŒ‡ä»¤
            </button>
            <button id="clearPromptBtn" class="ghost" style="display: none;">
              ğŸ—‘ï¸ æ¸…é™¤
            </button>
          </div>
        </div>
        
        <div id="promptOutput" class="prompt-output">
          <div class="output-placeholder">
            é€‰æ‹©é¡µé¢å…ƒç´ åï¼ŒAIç”Ÿæˆçš„ç¼–ç¨‹æŒ‡ä»¤å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ
          </div>
        </div>
      </section>
    </div>

    <!-- åŠŸèƒ½2ï¼šé¡µé¢æ•°æ®æå– -->
    <div class="tab-content" id="page-tab">
      <!-- é¡µé¢ä¿¡æ¯æ˜¾ç¤º -->
      <section class="page-info-section">
        <div class="section-header">
          <h2>ğŸŒ é¡µé¢ä¿¡æ¯</h2>
          <div class="section-controls">
            <label class="checkbox-container">
              <input type="checkbox" id="includePageData" checked>
              <span class="checkmark"></span>
              <span class="checkbox-label">è‡ªåŠ¨æ›´æ–°</span>
            </label>
            <button id="refreshPageBtn" class="ghost small">åˆ·æ–°</button>
          </div>
        </div>
        <div id="pageInfoDisplay" class="page-info">
          <div class="page-info-loading">ğŸ” æ­£åœ¨è·å–é¡µé¢ä¿¡æ¯...</div>
        </div>
        
        <!-- é¡µé¢æ•°æ®è¯¦æƒ…åŒºåŸŸ -->
        <div id="pageDataDetails" class="page-data-details" style="display: none;">
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">ğŸ“„ HTMLæºç </span>
              <button id="copyHtmlBtn" class="ghost tiny">å¤åˆ¶</button>
            </div>
            <div id="htmlPreview" class="data-content"></div>
          </div>
          
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">ğŸ“ é¡µé¢æ–‡æœ¬</span>
              <button id="copyTextBtn" class="ghost tiny">å¤åˆ¶</button>
            </div>
            <div id="textPreview" class="data-content"></div>
          </div>
          
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">ğŸ¨ CSSæ ·å¼</span>
              <button id="copyCssBtn" class="ghost tiny">å¤åˆ¶</button>
            </div>
            <div id="cssPreview" class="data-content"></div>
          </div>
          
          <div class="data-section">
            <div class="data-header">
              <span class="data-title">ğŸ”¤ å­—ä½“ä¿¡æ¯</span>
              <button id="copyFontsBtn" class="ghost tiny">å¤åˆ¶</button>
            </div>
            <div id="fontsPreview" class="data-content"></div>
          </div>
        </div>
        
        <!-- æŸ¥çœ‹è¯¦æƒ…æŒ‰é’® -->
        <div class="page-actions">
          <button id="togglePageDataBtn" class="ghost small" style="display: none;">ğŸ“‹ æŸ¥çœ‹é¡µé¢æ•°æ®</button>
        </div>
      </section>
    </div>

    <!-- åŠŸèƒ½3ï¼šPRDç”Ÿæˆ -->
    <div class="tab-content" id="prd-tab">
      <section class="input-block">
        <div class="input-row">
          <label for="ideaInput" class="label">è¯·è¾“å…¥ä½ çš„åº”ç”¨æƒ³æ³•</label>
          <div class="spacer"></div>
          <button id="newChatBtn" class="ghost small" title="å¼€å§‹æ–°å¯¹è¯">æ–°å¯¹è¯</button>
        </div>
        <textarea id="ideaInput" rows="6" placeholder="ä¾‹å¦‚ï¼šæˆ‘æƒ³åšä¸€ä¸ªLLMå¯¹è¯åº”ç”¨"></textarea>
        <div class="actions">
          <button id="generateBtn" class="primary">ç”ŸæˆPRD</button>
        </div>
      </section>

      <section id="loading" class="loading" style="display:none;">
        æ­£åœ¨ç”Ÿæˆï¼Œè¯·ç¨å€™...
      </section>

      <section id="output" class="output" aria-live="polite"></section>

      <section class="foot-actions">
        <button id="copyBtn" class="ghost" style="display:none;">ä¸€é”®å¤åˆ¶</button>
      </section>
    </div>

    <!-- å¸®åŠ©ä¿¡æ¯ -->
    <section class="help-section">
      <div class="section-header">
        <h3>ğŸ’¡ åŠŸèƒ½è¯´æ˜</h3>
      </div>
      <div class="help-content">
        <div class="help-item">
          <strong>ğŸ¯ æ™ºèƒ½Promptï¼š</strong>é€‰æ‹©é¡µé¢å…ƒç´ ï¼ŒAIç”Ÿæˆç²¾ç¡®çš„ç¼–ç¨‹æŒ‡ä»¤
        </div>
        <div class="help-item">
          <strong>ğŸ“„ é¡µé¢åˆ†æï¼š</strong>è‡ªåŠ¨æå–é¡µé¢HTMLã€CSSå’Œå­—ä½“ä¿¡æ¯
        </div>
        <div class="help-item">
          <strong>ğŸ“‹ PRDç”Ÿæˆï¼š</strong>è¾“å…¥æƒ³æ³•ï¼Œç”Ÿæˆè¯¦ç»†çš„äº§å“éœ€æ±‚æ–‡æ¡£
        </div>
      </div>
    </section>

    <!-- ç‰ˆæƒä¿¡æ¯ -->
    <footer class="footer">
      <div class="version-info">
        ç‰ˆæœ¬ 1.0.0 | Made with <span class="gold-heart">â¤ï¸</span> for AI Developers
      </div>
    </footer>
  </div>

  <script src="sidepanel.js"></script>
</body>
</html>